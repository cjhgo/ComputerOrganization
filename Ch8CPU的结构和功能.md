viewport:width=device-width,initial-scale=1

目录

[TOC]

#[计算机组成原理](...)
##Ch8CPU的结构和功能
+ 机器完成一条指令的全过程
+ 为了进一步提高数据的处理能力,开发系统的并行性所采取的的流水技术
###CPU的结构
####CPU的功能
+ 指令控制:控制程序的顺序执行
+ 操作控制:产生完成每条指令所需的控制命令
+ 时间控制:对各种操作加以时间上的控制
+ 数据加工:对数据进行算术运算和逻辑运算
+ 处理中断
####CPU结构框图
+ ALU
+ CU
+ 寄存器
+ 中断系统
####CPU的寄存器
#####用户可见寄存器
cpu执行机器语言访问的寄存器
按特征

+ 通用寄存器
+ 数据寄存器
+ 地址寄存器
+ 条件码寄存器,对用户来说部分透明
条件码是CPU根据运算结构由硬件设置的位
	+ 条件码可被测试
	+ 部分条件码可被置位与复位

在调用子程序前,必须将所有用户可见寄存器的内容保存起来
这种保存可由CPU自动完成,也可以由程序员编程保存
#####控制和状态寄存器
被控制部件使用,以控制CPU的操作,也可被带有特权的操作系统程序使用

+ MAR
+ MDR
+ PC
+ IR
#####控制单元
提供完成全部指令操作的微操作命令序列
现代计算机中微操作命令序列形成有两种

+ 组合逻辑
+ 存储逻辑
###指令周期
指令周期:CPU每取出并执行一条指令所需的全部时间
取指阶段,执行阶段
####指令周期的基本概念
+ 取指周期FE:访存取指令
+ 间址周期IND:访存取有效地址
+ 执行周期EX:访存取操作数(当这是一条访存指令时)
+ 中断周期INT:保存程序断点
将程序断点保存到存储器的特殊地址处
	- 在执行周期后边

指令

标志触发器
####指令周期的数据流
+ 取指周期,
	- 控制部件CU向存储器发读命令
+ 间址周期,
	- 一旦取指周期结束,CU便检查IR中的内容,确定其是否有间址操作
+ 执行周期,数据流不一而足
+ 中断周期	
###指令流水
+ 为了提高访存速度
	- 提高存储芯片的性能
	- 在体系结构上采用多体,cache等分级存储措施
+ 为了提高主机和I/O交换信息的速度
	- DMA
	- 多总线
+ 为了提高运算速度
	- 采用高速芯片和快速进位链
	- 改进算法
+ 为了进一步提高处理机速度
	- 提高器件性能
		+ 电子管,晶体管,集成电路,大规模集成电路四代计算机
	- 改进系统结构,开发系统的并行性
####指令流水原理
将指令的处理过程细分为几个阶段

+ 取指FI
+ 指令译码DI
+ 计算操作数地址CO
+ 取操作数FO
+ 执行指令EI
+ 写操作数WO
####影响流水线性能的因素
讨论5级流水线,IF,ID,EX,MEM,WB
#####结构相关(资源相关)
指令重叠执行过程中,不同指令争用同一功能部件产生资源冲突

例如第i条指令的IF和第j条指令的MEM都要访存,而存储器只有一个访问口
这就产生了结果相关/资源相关
解决方法

+ 暂停第i条指令的IF操作
+ 设置两个独立的存储器分别存放操作数和指令
+ 指令预取,,,
#####数据相关
指令重叠执行过程中,后继指令需要用到前面指令的执行结果
改变了对操作数的读写访问顺序,导致了数据相关冲突
#####控制相关	